@import "tailwindcss";

@theme {
  --color-bg: #020617;
  --color-primary: #2563eb;
  --color-accent: #3b82f6;
  --color-text: #e2e8f0;
  --color-muted: #94a3b8;
  --color-card: rgba(255, 255, 255, 0.03);
  --color-card-border: rgba(255, 255, 255, 0.06);

  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;

  --radius-xl: 24px;
  --radius-2xl: 32px;
}

/* ─── Base ─────────────────────────────────────── */

html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-sans);
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Hide default cursor on pointer (mouse) devices */
  cursor: none;
}

@media (pointer: coarse) {
  body { cursor: auto; }
}

/* ─── Aurora (cursor-responsive glow, zero JS renders) ─ */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(
    700px circle at var(--mx, 50%) var(--my, 50%),
    rgba(37, 99, 235, 0.065),
    transparent 60%
  );
}

/* ─── Hero section — NOT sticky, height follows content ─ */
.hero-section {
  position: relative;
  min-height: 100dvh; /* dynamic viewport height: handles mobile browser chrome */
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 3rem;
  padding-bottom: 4rem;
}

/* ─── Sticky stacking system (Stats and below) ──── */
.sticky-section {
  position: sticky;
  top: 0;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.section-inner {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 4rem 1.5rem;
}

/* ─── Multi-variant glitch animation ───────────────
   10.5s total cycle = 3 variants × ~3.5s each
   Variant A (horizontal): fires at 27-34%  (~2.8-3.6s)
   Variant B (vertical):   fires at 60-66%  (~6.3-6.9s)
   Variant C (fast entry): fires at 92-96%  (~9.7-10.1s)
─────────────────────────────────────────────────── */

@keyframes multi-glitch {
  /* ── Clean baseline ── */
  0%,
  25%,
  35%,
  58%,
  67%,
  90%,
  100% {
    transform: none;
    opacity: 1;
    clip-path: none;
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
    font-style: normal;
    letter-spacing: inherit;
  }

  /* ── Variant A: Horizontal channel split ── */
  27% {
    clip-path: polygon(0 0, 100% 0, 100% 40%, 0 40%);
    transform: translate(-4px, 0) skewX(-2deg);
    text-shadow: 5px 0 rgba(255, 30, 30, 0.75), -5px 0 rgba(0, 215, 255, 0.75);
  }
  28.5% {
    clip-path: polygon(0 40%, 100% 40%, 100% 70%, 0 70%);
    transform: translate(4px, 0) skewX(1.5deg);
    text-shadow: -4px 0 rgba(37, 99, 235, 1), 2px 0 rgba(255, 80, 0, 0.4);
  }
  30% {
    clip-path: polygon(0 0, 100% 0, 100% 25%, 0 25%);
    transform: translate(-2px, 1px);
    text-shadow: 3px 0 rgba(255, 30, 30, 0.5), -3px 0 rgba(0, 215, 255, 0.5);
  }
  31.5% {
    clip-path: none;
    transform: translate(1px, 0);
    text-shadow: 0 0 32px rgba(59, 130, 246, 0.9);
  }
  33%, 34% {
    clip-path: none;
    transform: none;
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
  }

  /* ── Variant B: Vertical carousel ── */
  60% {
    transform: translateY(-14px) scaleY(0.94);
    opacity: 0.45;
    text-shadow: 0 7px 0 rgba(37, 99, 235, 0.5), 0 -7px 0 rgba(0, 215, 255, 0.5);
    clip-path: polygon(0 8%, 100% 8%, 100% 92%, 0 92%);
  }
  61.5% {
    transform: translateY(9px) scaleY(1.03);
    opacity: 0.75;
    text-shadow: 0 -5px 0 rgba(37, 99, 235, 0.85);
    clip-path: none;
  }
  63% {
    transform: translateY(-5px);
    opacity: 0.9;
    text-shadow: 0 4px 0 rgba(255, 255, 255, 0.18);
  }
  64.5% {
    transform: translateY(2px);
    text-shadow: 0 0 22px rgba(59, 130, 246, 0.7);
  }
  66% {
    transform: translateY(-1px);
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
  }

  /* ── Variant C: Fast entry from right, bold italic ── */
  92% {
    transform: translateX(55px) scaleX(1.06);
    opacity: 0;
    font-style: italic;
    font-weight: 900;
    letter-spacing: -0.03em;
    text-shadow: none;
  }
  93.5% {
    transform: translateX(-9px) scaleX(0.97);
    opacity: 0.82;
    font-style: italic;
    letter-spacing: -0.015em;
    text-shadow: 4px 0 rgba(255, 30, 30, 0.45);
  }
  95% {
    transform: translateX(3px);
    opacity: 0.96;
    font-style: italic;
    text-shadow: 0 0 22px rgba(37, 99, 235, 0.6);
  }
  96% {
    transform: none;
    font-style: normal;
    letter-spacing: inherit;
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
  }
}

.glitch-text {
  display: inline-block;
  animation: multi-glitch 10.5s ease-in-out infinite;
}

/* ─── Custom cursor ─────────────────────────────── */

.cursor-ring {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 9999;
  border-radius: 50%;
  will-change: transform;
  width: 30px;
  height: 30px;
  border: 1.5px solid rgba(255, 255, 255, 0.35);
  background: transparent;
  transform: translate(-50%, -50%);
  transition:
    width 0.18s ease,
    height 0.18s ease,
    border-color 0.18s ease,
    box-shadow 0.18s ease;
}

.cursor-ring.is-hovering {
  width: 46px;
  height: 46px;
  border-color: rgba(59, 130, 246, 0.85);
  box-shadow: 0 0 14px rgba(59, 130, 246, 0.35);
}

@media (pointer: coarse) {
  .cursor-ring { display: none; }
}

/* ─── Reduced motion: flatten everything ──────── */

@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }

  .sticky-section { position: relative; }
  body::before { display: none; }
  .glitch-text { animation: none; }
}
