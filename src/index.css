@import "tailwindcss";

@theme {
  --color-bg: #020617;
  --color-primary: #2563eb;
  --color-accent: #3b82f6;
  --color-text: #e2e8f0;
  --color-muted: #94a3b8;
  --color-card: rgba(255, 255, 255, 0.03);
  --color-card-border: rgba(255, 255, 255, 0.06);

  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;

  --radius-xl: 24px;
  --radius-2xl: 32px;
}

/* ─── Base ─────────────────────────────────────── */

html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-sans);
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  cursor: none;
}

@media (pointer: coarse) {
  body { cursor: auto; }
}

/* ─── Aurora (cursor-responsive glow, zero JS renders) ─ */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(
    700px circle at var(--mx, 50%) var(--my, 50%),
    rgba(37, 99, 235, 0.065),
    transparent 60%
  );
}

/* ─── Hero intro — sticky on ALL screens (page 1) ─ */
.hero-intro {
  position: sticky;
  top: 0;
  z-index: 10;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 3rem;
  padding-bottom: 4rem;
  background-color: var(--color-bg);
}

/* ─── Hero about — sticky on ALL screens (page 2) ─
   Transparent top lets HeroIntro bleed through on entry.
   Solid by 25% so the section is fully opaque when fully in view.
─────────────────────────────────────────────────── */
.hero-about {
  position: sticky;
  top: 0;
  z-index: 15;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(2, 6, 23, 0) 3%,
    rgba(2, 6, 23, 0.95) 18%,
    #020617 26%
  );
}

/* ─── Sticky stacking system (FeaturedProjects and below) ── */
.sticky-section {
  position: sticky;
  top: 0;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.section-inner {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 4rem 1.5rem;
}

/* ─── Multi-variant glitch ──────────────────────────
   6s total cycle. Effect fires almost immediately (~0.25s)
   and again ~2.5s later. Variant B (bouncy vertical) removed.
   Variant A (horizontal RGB split): 4-14%
   Variant C (fast italic right entry): 56-70%
─────────────────────────────────────────────────── */

@keyframes multi-glitch {
  /* ── Clean baseline ── */
  0%, 3%,
  15%, 54%,
  71%, 100% {
    transform: none;
    opacity: 1;
    clip-path: none;
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
    font-style: normal;
    letter-spacing: inherit;
  }

  /* ── Variant A: Horizontal RGB channel split (~0.24-0.84s) ── */
  4% {
    clip-path: polygon(0 0, 100% 0, 100% 40%, 0 40%);
    transform: translate(-4px, 0) skewX(-2deg);
    text-shadow: 5px 0 rgba(255, 30, 30, 0.75), -5px 0 rgba(0, 215, 255, 0.75);
  }
  7% {
    clip-path: polygon(0 40%, 100% 40%, 100% 70%, 0 70%);
    transform: translate(4px, 0) skewX(1.5deg);
    text-shadow: -4px 0 rgba(37, 99, 235, 1), 2px 0 rgba(255, 80, 0, 0.4);
  }
  10% {
    clip-path: polygon(0 0, 100% 0, 100% 25%, 0 25%);
    transform: translate(-2px, 1px);
    text-shadow: 3px 0 rgba(255, 30, 30, 0.5), -3px 0 rgba(0, 215, 255, 0.5);
  }
  12% {
    clip-path: none;
    transform: translate(1px, 0);
    text-shadow: 0 0 32px rgba(59, 130, 246, 0.9);
  }

  /* ── Variant C: Fast entry from right, bold italic (~3.36-4.2s) ── */
  56% {
    transform: translateX(55px) scaleX(1.06);
    opacity: 0;
    font-style: italic;
    font-weight: 900;
    letter-spacing: -0.03em;
    text-shadow: none;
  }
  60% {
    transform: translateX(-9px) scaleX(0.97);
    opacity: 0.82;
    font-style: italic;
    letter-spacing: -0.015em;
    text-shadow: 4px 0 rgba(255, 30, 30, 0.45);
  }
  65% {
    transform: translateX(3px);
    opacity: 0.96;
    font-style: italic;
    text-shadow: 0 0 22px rgba(37, 99, 235, 0.6);
  }
  70% {
    transform: none;
    font-style: normal;
    letter-spacing: inherit;
    text-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
  }
}

.glitch-text {
  display: inline-block;
  animation: multi-glitch 6s ease-in-out infinite;
}

/* ─── Electric / lightning badge glitch ────────────
   2.5s cycle — fires 1s after element loads (animation-delay),
   then every 2.5s. Sharp discharge, no bounce.
─────────────────────────────────────────────────── */

@keyframes badge-glitch {
  /* ── Clean baseline ── */
  0%, 68%, 96%, 100% {
    transform: none;
    filter: none;
    clip-path: none;
    opacity: 1;
    letter-spacing: inherit;
    text-shadow: 0 0 8px rgba(59, 130, 246, 0.35);
  }

  /* ── Discharge burst: 70-93% (~1.75-2.33s in 2.5s cycle) ── */
  70% {
    transform: translate(-3px, 0) skewX(-6deg);
    text-shadow: 4px 0 rgba(0, 240, 255, 1), -4px 0 rgba(37, 99, 235, 1);
    clip-path: polygon(0 0, 100% 0, 100% 42%, 0 42%);
    filter: brightness(2.2) contrast(1.6);
    opacity: 0.92;
  }
  74% {
    transform: translate(4px, 0) skewX(4deg);
    text-shadow: -5px 0 rgba(180, 0, 255, 0.7), 5px 0 rgba(0, 240, 255, 0.9);
    clip-path: polygon(0 42%, 100% 42%, 100% 78%, 0 78%);
    filter: brightness(3) contrast(2) saturate(1.8);
    opacity: 1;
  }
  78% {
    transform: translate(-1px, 0);
    text-shadow: 6px 0 rgba(0, 200, 255, 1), -6px 0 rgba(255, 0, 120, 0.75);
    clip-path: none;
    filter: brightness(3.5) contrast(2.2);
    letter-spacing: 0.04em;
  }
  82% {
    transform: translate(2px, 0) scaleX(1.03);
    text-shadow:
      0 0 24px rgba(0, 200, 255, 1),
      0 0 48px rgba(37, 99, 235, 0.9),
      3px 0 rgba(255, 200, 0, 0.5);
    filter: brightness(2.5) contrast(1.8);
    letter-spacing: -0.02em;
  }
  86% {
    transform: translate(-1px, 0) skewX(-2deg);
    text-shadow: 2px 0 rgba(0, 240, 255, 0.8), -2px 0 rgba(255, 0, 180, 0.5);
    filter: brightness(1.8) contrast(1.4);
  }
  90% {
    transform: translate(1px, 0);
    text-shadow: 0 0 30px rgba(0, 160, 255, 0.95), 0 0 60px rgba(37, 99, 235, 0.6);
    filter: brightness(1.4);
  }
}

.badge-glitch {
  display: inline-block;
  animation: badge-glitch 2.5s ease-in-out infinite;
  animation-delay: 1s;
  animation-fill-mode: backwards;
}

/* ─── Profile photo — responsive size caps ──────── */

@media (max-width: 639px) {
  /* iPhone SE / small phones — keep image in safe area, leave room for bio */
  .profile-photo-wrapper {
    max-width: min(210px, 55vw) !important;
    max-height: min(210px, 55vw) !important;
  }
}

@media (min-width: 640px) and (max-width: 767px) {
  .profile-photo-wrapper {
    max-width: 250px !important;
    max-height: 250px !important;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  /* Tablet: don't let it dominate, leave room for bio */
  .profile-photo-wrapper {
    max-width: 300px !important;
    max-height: 300px !important;
  }
}

/* ─── Custom cursor ─────────────────────────────── */

.cursor-ring {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 9999;
  border-radius: 50%;
  will-change: transform;
  width: 30px;
  height: 30px;
  border: 1.5px solid rgba(255, 255, 255, 0.35);
  background: transparent;
  transform: translate(-50%, -50%);
  transition:
    width 0.18s ease,
    height 0.18s ease,
    border-color 0.18s ease,
    box-shadow 0.18s ease;
}

.cursor-ring.is-hovering {
  width: 46px;
  height: 46px;
  border-color: rgba(59, 130, 246, 0.85);
  box-shadow: 0 0 14px rgba(59, 130, 246, 0.35);
}

@media (pointer: coarse) {
  .cursor-ring { display: none; }
}

/* ─── Reduced motion: flatten everything ──────── */

@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }

  .hero-intro,
  .hero-about,
  .sticky-section { position: relative; min-height: 0; }
  body::before { display: none; }
  .glitch-text,
  .badge-glitch { animation: none; }
}
